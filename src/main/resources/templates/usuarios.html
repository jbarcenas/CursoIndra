<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
     xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:fragmnet="head">
<meta charset="ISO-8859-1">
<title>CursoIndra</title>
<link th:href= "@{https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css}"  rel="stylesheet">
</head>
<body>
  <!-- BARRA DE NAVEGACION -->
 <header th:insert="fragmento/navegacion.html :: nav">
 		
 		
  </header> 
   <div class="alert alert-primary" th:if="${msj}"role="alert"><p th:text="${msj}"></p></div>
 
   <!-- CONTENIDO -->
 <div class="container"  >
   	<div class="row">
 	   <div class="col-md-12 ">          	
 	   		
 	   		<h4 class="text-muted">Lista de usuarios</h4>
 	   		<div class="table-responsive-sm ">
  			<table class="table ">
  			
  				<thead>
			    	<tr>
			      		<th scope="col">Usuario</th>
			      		<th scope="col">Email</th>
			       		<th scope="col">Telefono</th>
			      		
			      		<th scope="col">Activo</th>
			      		<th scope="col">Rol</th>
			       	
			      		<th scope="col"></th>
			      		<!--<th scope="col"></th>  -->
			    	</tr>
			     </thead>
			    <tbody th:each="user:${users}" >
			      <tr>    
			     	 <td th:text="${user.nombreusuario}"></td>
			      	 <td th:text="${user.email}"></td>
			      	 <td th:text="${user.telefono}"></td>
			      	 <td th:text="${user.activo}"></td>
			       	 <td >
			       	 	<select  class="row g-3 align-items-center" disabled>
                     	<option th:each="rols :${roles}" 
              			     th:text="${rols.rol} " th:selected="${rols.nombreusuario == user.nombreusuario}" >
              			</option>
    				    </select>
			       	 </td>
      
			         <td sec:authorize="hasAuthority('admin')">
                		<a class="btn btn-warning"th:href="@{/editar/user/{username}(username=${user.nombreusuario})}" >Editar</a>
			         </td>
			         
			       <!--  <td sec:authorize="hasAuthority('admin')">
			         	<a class="btn btn-danger">Eliminar</a>
			         </td>
			          --> 
			         
			      </tr>
			    </tbody>
  			  </table>
  			 </div>
  	   </div>
  	 </div>
   </div>
<!-- PIE DE PAGINA -->
  <div th:insert="fragmento/pie.html :: footer">  </div>

 <script th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js}" type="text/javascript"></script>
	

</body>
</html>